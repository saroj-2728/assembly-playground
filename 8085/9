; Add corresponding data of 2 tables and store into 3rd, if data of first < data of second : sub 2nd - 1st and then store to 3rd

lxi h, 2000h
lxi b, 2010h
lxi d, 2020h

calculateAndStore:
  push d
  mov d, m
  ldax b

  cmp d
  jnc doSub
  add d
  jmp nextIteration

  doSub:
    sub m

  nextIteration:
    pop d
    stax d
    inx d
    inx h
    inx b
    mov a, l
    cpi 04h
    jnz calculateAndStore

hlt  